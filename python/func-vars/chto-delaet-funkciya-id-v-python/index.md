---
metaTitle: Что делает функция id в Python
metaDescription: Разбираем, как работает функция id в Python, что такое идентификатор объекта, связь с изменяемостью и сравнением через is. Примеры использования и отладочные сценарии.
author: Олег Марков
title: Что делает функция id в Python
preview: Узнайте, что возвращает функция id в Python, как это связано с адресацией объектов, интернированием и операцией is, а также как применять id при отладке.
---

## Введение

Функция `id()` возвращает уникальный идентификатор объекта в процессе выполнения программы. Понимание того, что именно возвращает `id`, помогает разобраться в модели объектов Python, отличать физическое совпадение объектов от равенства по значению и правильно работать с изменяемыми типами.

Если вы хотите детальнее погрузиться в внутреннюю модель объектов Python и управление памятью — приходите на наш курс [Основы Python](https://purpleschool.ru/course/python-basics?utm_source=knowledgebase&utm_medium=article&utm_campaign=Chto_delayet_funkciya_id_v_Python). На курсе 209 уроков и 34 упражнения, AI-тренажёры для безлимитной практики с кодом и задачами 24/7, решение задач с живым ревью наставника, еженедельные встречи с менторами.

## Что возвращает `id()`

Синтаксис прост:

```python
id(obj)
```

Функция возвращает целое число, которое в большинстве реализаций CPython соответствует адресу объекта в памяти во время жизни этого объекта. Стандарт языка гарантирует только уникальность значения `id` для каждого объекта в течение его жизненного цикла, но не гарантирует, что это будет постоянный адрес между запусками интерпретатора.

Пример:

```python
a = 1000
b = 1000
print(id(a), id(b))  # идентификаторы могут совпадать или отличаться в зависимости от реализации и оптимизаций
```

## Интернирование и неизменяемые типы

Python применяет оптимизации, такие как интернирование небольших целых чисел и некоторых строк, что приводит к совпадению `id` у отдельных одинаковых значений:

```python
x = 10
y = 10
print(id(x) == id(y))  # часто True для маленьких целых чисел
```

Для изменяемых объектов (списков, словарей и т.д.) интернирование не применяется, и одинаковое по содержанию значение обычно имеет разные `id`:

```python
x = [1, 2, 3]
y = [1, 2, 3]
print(id(x) == id(y))  # False
```

## `id()` и оператор `is`

Оператор `is` проверяет, ссылаются ли две переменные на один и тот же объект. По сути `a is b` эквивалентно `id(a) == id(b)`:

```python
a = [1, 2]
b = a
print(a is b)       # True
print(id(a) == id(b))  # True

c = [1, 2]
print(a is c)       # False
print(a == c)       # True, значения совпадают
```

Важно использовать `is` и `id()` только тогда, когда нужно проверить тождественность объектов, а не равенство значений.

## Отладка и практическое применение

`id()` полезна при отладке для выяснения, создаёт ли код новые объекты или работает с уже существующими ссылками:

* Проверка, изменится ли объект в ходе функции или будет создан новый экземпляр
* Определение, когда копирование данных происходит неявно
* Диагностика проблем, связанных с побочными эффектами и общим состоянием

Пример диагностики:

```python
def modify(lst):
    print("id входного списка", id(lst))
    lst.append(4)
    print("id после изменения", id(lst))

nums = [1, 2, 3]
print("id до вызова", id(nums))
modify(nums)
```

В большинстве случаев `id` останется прежним, что подтверждает изменение объекта на месте.

## Особенности и ограничения

* `id()` даёт уникальный идентификатор только в рамках одного процесса Python, число не переносимо между разными запусками интерпретатора
* В разных реализациях Python (`PyPy`, `Jython`) семантика `id` может отличаться от адреса в памяти
* Не стоит использовать `id()` как ключ постоянного хеширования или для логики, зависящей от стабильного адреса во времени

## Частые ошибки

* Использование `is` для проверки равенства значений вместо проверки тождественности объектов
* Делать выводы о расположении данных в памяти, основываясь только на значениях `id` в разных запусках
* Полагаться на совпадение `id` для неизменяемых объектов без учета интернирования

## Заключение

Функция `id()` — инструмент для понимания ссылочной модели Python и диагностирования поведения объектов в памяти. Она помогает отличить тождественность объектов от равенства по значению и понять, когда операции создают новые объекты, а когда изменяют существующие.

Для системного изучения внутренних механизмов объектов, изменяемости и модели памяти рекомендую пройти курс [Основы Python](https://purpleschool.ru/course/python-basics?utm_source=knowledgebase&utm_medium=article&utm_campaign=Chto_delayet_funkciya_id_v_Python). В первых 3 модулях уже доступно бесплатное содержание — начните погружаться в мир Python прямо сегодня.
