---
metaTitle: Коды возврата в Bash — exit status и обработка ошибок
metaDescription: "Узнай как работают коды возврата в Bash: $?, exit, return, цепочки &&/|| и fail-fast подход."
author: Олег Марков
title: Коды возврата в Bash — практический разбор
preview: Разберём, как проверять успех команд, правильно завершать скрипт и делать предсказуемую обработку ошибок.
---

## Что такое exit status

Каждая команда возвращает код:

- `0` — успех
- `!=0` — ошибка

Последний код доступен в `$?`.

## Проверка результата

```bash
cp a.txt b.txt
if [[ $? -ne 0 ]]; then
  echo "Копирование не удалось" >&2
fi
```

Лучше сразу через `if`:

```bash
if cp a.txt b.txt; then
  echo "OK"
else
  echo "FAIL" >&2
fi
```

## exit и return

- `exit N` завершает скрипт
- `return N` завершает функцию

## Итоги

Проектируй скрипты так, чтобы коды возврата были явными и согласованными.
