---
metaTitle: Вложенные функции в Python
metaDescription: Изучите вложенные функции в Python — создание функций внутри функций, область видимости, применение, примеры и паттерны функционального программирования.
author: Олег Марков
title: Вложенные функции в Python
preview: Разберём вложенные функции в Python — как создавать функции внутри функций, использовать замыкания и применять их в практических сценариях.
---

## Введение

Вложенные функции — это функции, определённые внутри других функций. Такой подход позволяет структурировать код, создавать замыкания и скрывать вспомогательные функции от внешнего окружения.

В этой статье мы разберём синтаксис вложенных функций, особенности области видимости, примеры использования и потенциальные ошибки при работе с ними.

Если вы хотите детальнее изучить работу функций, включая вложенные функции и замыкания — приходите на наш курс [Основы Python](https://purpleschool.ru/course/python-basics?utm_source=knowledgebase&utm_medium=article&utm_campaign=Vlozhennye_funkcii_v_Python). На курсе 209 уроков и 34 упражнения, AI-тренажеры для практики с кодом и задачами 24/7, решение задач с живым ревью наставника, еженедельные встречи с менторами.

## Синтаксис вложенных функций

Функция внутри функции создаётся стандартным образом через `def`:

```python
def outer(x):
    def inner(y):
        return y + 1
    return inner(x)
    
print(outer(5))  # 6
```

В этом примере `inner` существует только внутри `outer` и недоступна извне.

## Замыкания (closures)

Вложенные функции могут сохранять доступ к переменным внешней функции после её выполнения:

```python
def make_multiplier(factor):
    def multiply(x):
        return x * factor
    return multiply

double = make_multiplier(2)
triple = make_multiplier(3)

print(double(5))  # 10
print(triple(5))  # 15
```

`multiply` — это замыкание, сохраняющее значение `factor`.

## Использование вложенных функций

### Локальные вспомогательные функции

```python
def process_data(data):
    def clean(text):
        return text.strip().lower()
    
    return [clean(item) for item in data]

data = ["  Apple ", " Banana", "kiwi  "]
print(process_data(data))  # ['apple', 'banana', 'kiwi']
```

Вспомогательная функция `clean` не видна за пределами `process_data`, что уменьшает загрязнение глобального пространства имён.

### Передача вложенной функции как объекта

```python
def outer(x):
    def inner(y):
        return y ** 2
    return inner

f = outer(0)  # f — это функция inner
print(f(4))   # 16
```

Такой подход полезен для фабрик функций и динамической генерации поведения.

## Частые ошибки

* Попытка вызвать внутреннюю функцию вне внешней.
* Изменение внешних переменных без использования `nonlocal` (для изменяемых значений).
* Слишком глубокая вложенность, затрудняющая чтение кода.

## Часто задаваемые вопросы

1. **Можно ли использовать вложенные функции с декораторами?**
   Да, вложенные функции часто используются для создания пользовательских декораторов.

2. **Чем отличается замыкание от простой вложенной функции?**
   Замыкание сохраняет доступ к переменным внешней функции после её завершения, а простая вложенная функция используется только во время вызова внешней функции.

3. **Можно ли возвращать несколько вложенных функций?**
   Да, можно возвращать их как кортеж или словарь для динамического выбора функционала.

## Заключение

Вложенные функции и замыкания — мощный инструмент Python, который помогает создавать чистый, структурированный и гибкий код. Они широко применяются в фабриках функций, декораторах и функциональном программировании.

Для системного изучения функций, вложенных функций и замыканий рекомендую пройти курс [Основы Python](https://purpleschool.ru/course/python-basics?utm_source=knowledgebase&utm_medium=article&utm_campaign=Vlozhennye_funkcii_v_Python). В первых 3 модулях уже доступно бесплатное содержание — начните погружаться в мир Python прямо сегодня.
