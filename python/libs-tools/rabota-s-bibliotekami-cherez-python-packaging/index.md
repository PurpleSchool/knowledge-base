---
metaTitle: Работа с библиотеками через Python Packaging
metaDescription: Руководство по управлению библиотеками в Python — установка, обновление, создание пакетов, зависимостей и использование pip, virtualenv и PyPI.
author: Олег Марков
title: Работа с библиотеками через Python Packaging
preview: Изучаем управление библиотеками в Python — установка через pip, создание собственных пакетов, управление зависимостями и работа с виртуальными окружениями.
---

## Введение

Python Packaging — это система управления библиотеками и пакетами в Python. Она позволяет устанавливать сторонние модули, создавать собственные пакеты и управлять зависимостями проекта. Основными инструментами являются `pip`, `virtualenv` и PyPI.

В этой статье мы рассмотрим, как устанавливать и обновлять библиотеки, создавать свои пакеты, работать с зависимостями и виртуальными окружениями, а также разберём типичные ошибки при упаковке Python-проектов.

Если вы хотите детально освоить Python и научиться работать с пакетами и зависимостями на практике, приходите на курс [Основы Python](https://purpleschool.ru/course/python-basics?utm_source=knowledgebase&utm_medium=article&utm_campaign=rabota-s-bibliotekami-cherez-python-packaging). На курсе 209 уроков и 34 упражнения, AI-тренажёры для практики с кодом, решение задач с ревью наставника и еженедельные встречи с менторами.

## Установка и обновление библиотек

Для установки сторонних библиотек используется `pip`:

```bash
pip install requests
```

Для обновления:

```bash
pip install --upgrade requests
```

Для удаления:

```bash
pip uninstall requests
```

## Работа с виртуальными окружениями

Виртуальные окружения изолируют зависимости проекта:

```bash
python -m venv venv
```

Активация:

* Windows: `venv\Scripts\activate`
* Linux/macOS: `source venv/bin/activate`

После активации все установки через `pip` будут локальными для этого окружения.

## Создание собственного пакета

Структура простого пакета:

```
my_package/
├── my_module.py
├── __init__.py
└── setup.py
```

Пример `setup.py`:

```python
from setuptools import setup, find_packages

setup(
    name='my_package',
    version='0.1',
    packages=find_packages(),
    install_requires=[
        'requests'
    ],
)
```

Публикация на PyPI:

```bash
python setup.py sdist bdist_wheel
twine upload dist/*
```

## Управление зависимостями

Файл `requirements.txt` позволяет фиксировать зависимости проекта:

```
requests==2.31.0
numpy>=1.25
```

Установка из файла:

```bash
pip install -r requirements.txt
```

## Практические советы

* Проверяйте версии библиотек для совместимости.
* Используйте `pip freeze > requirements.txt` для фиксации зависимостей.
* Регулярно обновляйте виртуальные окружения и проверяйте совместимость пакетов.

## Заключение

Python Packaging позволяет управлять библиотеками, зависимостями и создавать собственные пакеты. Освоив эти инструменты, вы сможете строить надёжные и переносимые проекты, избегать конфликтов версий и упрощать работу в команде.

Для комплексного изучения Python и практики работы с библиотеками и виртуальными окружениями рекомендуем курс [Основы Python](https://purpleschool.ru/course/python-basics?utm_source=knowledgebase&utm_medium=article&utm_campaign=rabota-s-bibliotekami-cherez-python-packaging). В первых 3 модулях уже доступно бесплатное содержание — начните погружаться в мир Python и управление библиотеками прямо сегодня.

## Частые ошибки

* Установка глобально вместо виртуального окружения.
* Несоответствие версий пакетов с требованиями проекта.
* Отсутствие фиксации зависимостей в `requirements.txt`.

## Часто задаваемые вопросы

1. **Что делать, если pip не обновляется?**
   Используйте `python -m pip install --upgrade pip`.

2. **Можно ли использовать conda вместо virtualenv?**
   Да, conda предоставляет аналогичное управление окружениями и пакетами.

3. **Как создать пакет без загрузки на PyPI?**
   Можно использовать локальные пути или private PyPI серверы для хранения собственных пакетов.
